[package]
name = "common"
version = "0.1.0"
authors.workspace = true
description.workspace = true
edition.workspace = true
repository.workspace = true
license.workspace = true

[dependencies]
serde_with = { workspace = true }
thiserror = { workspace = true }
serde.workspace = true
serde_json.workspace = true
by-macros = { workspace = true }
dioxus-translate = { workspace = true }
percent-encoding = { workspace = true }
async-trait = "0.1.88"
chrono = { workspace = true }
base64 = { workspace = true }
dioxus = { workspace = true }

# Server-only dependencies
bdk = { workspace = true, optional = true }
serde_dynamo = { workspace = true, optional = true }
schemars = { workspace = true, optional = true }
aide = { workspace = true, optional = true }
ssi = { version = "0.12.0", features = ["bbs"], optional = true }
dioxus-components = { workspace = true }
icons = { workspace = true }
aws-config = { version = "1.5.10", optional = true }
aws-sdk-dynamodb = { workspace = true, optional = true }
aws-credential-types = { version = "1.2.6", optional = true }
tower-sessions = { version = "0.15.0", optional = true }

[features]
default = []
aws = ["aws-config", "aws-credential-types", "aws-sdk-dynamodb"]
middleware = ["tower-sessions"]
server = [
    "aide",
    "aws",
    "bdk/be",
    "middleware",
    "schemars",
    "serde_dynamo",
    "ssi",
]
web = []
